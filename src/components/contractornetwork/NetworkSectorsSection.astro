---
import NetworkSectorCard from './NetworkSectorCard.astro';

export interface NetworkSectorsSectionProps {
	openSectors: Array<{
		title: string;
		icon: string;
	}>;
	comingSoonSectors: Array<{
		title: string;
		icon: string;
	}>;
}

interface Props extends NetworkSectorsSectionProps {}

const { openSectors, comingSoonSectors } = Astro.props;

// WordPress ACF Mapping:
// ACF Group: network_sectors_section
// - open_sectors (Repeater: title, icon)
// - coming_soon_sectors (Repeater: title, icon)
---

<section class="mb-16">
	<h2 class="text-3xl font-bold text-gray-900 mb-8">Network Sectors</h2>

	<!-- Currently Open -->
	<div class="mb-12">
		<h3 class="text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3">
			<span class="w-3 h-3 bg-green rounded-full flex-shrink-0 animate-pulse" aria-label="Open"
			></span>
			Currently Open
		</h3>
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
			{openSectors.map((sector) => <NetworkSectorCard {...sector} status="open" />)}
		</div>
	</div>

	<!-- Coming Soon -->
	{
		comingSoonSectors.length > 0 && (
			<div>
				<h3 class="text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3">
					<span class="w-3 h-3 bg-orange rounded-full flex-shrink-0" aria-label="Coming Soon" />
					Coming Soon
				</h3>
				<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
					{comingSoonSectors.map((sector) => (
						<NetworkSectorCard {...sector} status="coming-soon" />
					))}
				</div>
			</div>
		)
	}
</section>
