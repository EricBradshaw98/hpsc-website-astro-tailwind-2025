---
import { Image } from 'astro:assets';

export interface Props {
	title: string;
	date: string;
	endDate?: string | null;
	location: string;
	description: string;
	image: string;
}

const { title, date, endDate, location, description, image } = Astro.props;

function formatDate(dateString: string, endDateString?: string | null) {
	const dateObj = new Date(dateString);
	const options: Intl.DateTimeFormatOptions = {
		year: 'numeric',
		month: 'long',
		day: 'numeric',
	};
	if (endDateString) {
		const endDateObj = new Date(endDateString);
		return `${dateObj.toLocaleDateString('en-US', options)} - ${endDateObj.toLocaleDateString('en-US', options)}`;
	}
	return dateObj.toLocaleDateString('en-US', options);
}
---

<div class="bg-gradient-to-r from-primary to-primary-dark rounded-2xl overflow-hidden shadow-2xl">
	<div class="grid grid-cols-1 lg:grid-cols-2">
		<div class="relative h-96 lg:h-auto">
			<Image
				src={image}
				alt={title}
				class="w-full h-full object-cover"
				width={1200}
				height={800}
				loading="eager"
			/>
		</div>
		<div class="p-8 md:p-12 text-white">
			<span
				class="inline-block px-3 py-1 bg-white/20 text-white text-sm font-semibold rounded-full mb-4"
			>
				Featured Event
			</span>
			<h2 class="text-3xl md:text-4xl font-bold mb-4">{title}</h2>
			<div class="space-y-2 mb-6">
				<div class="flex items-center gap-2">
					<svg
						class="w-5 h-5"
						fill="none"
						stroke="currentColor"
						viewBox="0 0 24 24"
						aria-hidden="true"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
						></path>
					</svg>
					<span>{formatDate(date, endDate)}</span>
				</div>
				<div class="flex items-center gap-2">
					<svg
						class="w-5 h-5"
						fill="none"
						stroke="currentColor"
						viewBox="0 0 24 24"
						aria-hidden="true"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
						></path>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
					</svg>
					<span>{location}</span>
				</div>
			</div>
			<p class="text-white/90 mb-6">{description}</p>
			<a
				href="/contact"
				class="inline-flex items-center gap-2 px-8 py-3 bg-white text-primary rounded-lg font-semibold hover:bg-gray-100 transition-colors"
			>
				Register Now
				<svg
					class="w-5 h-5"
					fill="none"
					stroke="currentColor"
					viewBox="0 0 24 24"
					aria-hidden="true"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
				</svg>
			</a>
		</div>
	</div>
</div>
