---
export interface DocumentCardProps {
	slug: string;
	title: string;
	description: string;
	category: string;
	date: string;
	fileSize: string;
	fileType: string;
}

interface Props extends DocumentCardProps {}

const { slug, title, description, category, date, fileSize, fileType } = Astro.props;

// File type icon paths
const fileTypeIcons: Record<string, string> = {
	pdf: 'M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z',
	doc: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',
	docx: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',
	xls: 'M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z',
	xlsx: 'M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z',
	ppt: 'M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01',
	pptx: 'M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01',
};
---

<a
	href={`/resources/documents/${slug}`}
	class="document-card group bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-primary relative"
	data-title={title.toLowerCase()}
	data-category={category}
>
	<!-- Background SVG Icon -->
	<div class="absolute right-0 bottom-0 opacity-5 pointer-events-none">
		<svg class="w-48 h-48 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
			<path
				stroke-linecap="round"
				stroke-linejoin="round"
				stroke-width="1.5"
				d={fileTypeIcons[fileType] || fileTypeIcons.pdf}></path>
		</svg>
	</div>
	<div class="p-6 relative z-10">
		<div class="flex items-start justify-between mb-4">
			<span class="text-xs text-gray-500 font-medium uppercase bg-gray-100 px-2 py-1 rounded">
				{fileType.toUpperCase()}
			</span>
			<span class="text-xs text-gray-500 font-medium">{fileSize}</span>
		</div>
		<h3 class="text-lg font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors">
			{title}
		</h3>
		<p class="text-sm text-gray-600 mb-4 line-clamp-2">{description}</p>
		<div class="flex items-center justify-between text-sm text-gray-500">
			<time datetime={date}>
				{
					new Date(date).toLocaleDateString('en-US', {
						month: 'short',
						day: 'numeric',
						year: 'numeric',
					})
				}
			</time>
			<span class="text-primary font-medium group-hover:underline">View â†’</span>
		</div>
	</div>
</a>
