---
import Layout from '../layouts/Layout.astro';
import TrainingProgramCard from '../components/training/TrainingProgramCard.astro';
import BenefitCard from '../components/training/BenefitCard.astro';
import UpcomingSessionCard from '../components/training/UpcomingSessionCard.astro';

// Mock training programs data
const trainingPrograms = [
	{
		id: 1,
		title: 'Building Science Fundamentals',
		category: 'Core Training',
		duration: '3 days',
		level: 'Beginner to Intermediate',
		format: 'In-person',
		description:
			'Comprehensive introduction to building science principles including heat transfer, air movement, moisture management, and building envelope performance.',
		image: 'https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=800&h=600&fit=crop',
		topics: [
			'Heat transfer and thermal bridging',
			'Air leakage and air barriers',
			'Moisture management strategies',
			'Building envelope assessment',
		],
		price: 'Subsidized for HPCN members',
	},
	{
		id: 2,
		title: 'Advanced Air Sealing Techniques',
		category: 'Technical Skills',
		duration: '2 days',
		level: 'Intermediate',
		format: 'Hands-on Workshop',
		description:
			'Practical training on advanced air sealing techniques, blower door testing, and quality assurance protocols for residential retrofits.',
		image: 'https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=800&h=600&fit=crop',
		topics: [
			'Blower door setup and testing',
			'Air sealing materials and application',
			'Common air leakage locations',
			'Quality assurance protocols',
		],
		price: '$450',
	},
	{
		id: 3,
		title: 'Heat Pump Installation & Optimization',
		category: 'HVAC',
		duration: '2 days',
		level: 'Intermediate to Advanced',
		format: 'In-person',
		description:
			'Deep dive into heat pump technology, proper sizing, installation best practices, and system optimization for cold climates.',
		image: 'https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800&h=600&fit=crop',
		topics: [
			'Heat pump technology overview',
			'Load calculations and sizing',
			'Installation best practices',
			'Cold climate optimization',
		],
		price: '$495',
	},
	{
		id: 4,
		title: 'Energy Advisor Certification Prep',
		category: 'Certification',
		duration: '5 days',
		level: 'Advanced',
		format: 'Hybrid (Online + In-person)',
		description:
			'Comprehensive preparation course for NRCan Energy Advisor certification, covering technical knowledge and practical assessment skills.',
		image: 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop',
		topics: [
			'HOT2000 modeling software',
			'Home energy assessment protocols',
			'Report writing and recommendations',
			'NRCan certification requirements',
		],
		price: '$1,200',
	},
	{
		id: 5,
		title: 'Ventilation Systems Design',
		category: 'HVAC',
		duration: '1 day',
		level: 'Intermediate',
		format: 'Online',
		description:
			'Understanding mechanical ventilation requirements, system selection, and proper installation for residential applications.',
		image: 'https://images.unsplash.com/photo-1504307651254-35680f356dfd?w=800&h=600&fit=crop',
		topics: [
			'Ventilation standards (CSA F326, ASHRAE 62.2)',
			'HRV and ERV systems',
			'System sizing and selection',
			'Installation and commissioning',
		],
		price: '$250',
	},
	{
		id: 6,
		title: 'Business Development for Contractors',
		category: 'Business Skills',
		duration: '1 day',
		level: 'All Levels',
		format: 'Online',
		description:
			'Essential business skills for home performance contractors including marketing, customer relations, and business growth strategies.',
		image: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&h=600&fit=crop',
		topics: [
			'Marketing and lead generation',
			'Customer communication strategies',
			'Project management basics',
			'Financial planning and pricing',
		],
		price: '$195',
	},
];

// Training categories
const categories = ['All', ...new Set(trainingPrograms.map((p) => p.category))];

// Training benefits
const benefits = [
	{
		icon: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z',
		title: 'Industry-Leading Instructors',
		description: 'Learn from experienced professionals with decades of combined expertise',
	},
	{
		icon: 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
		title: 'Subsidized Programs',
		description: 'HPCN members receive significant discounts on training courses',
	},
	{
		icon: 'M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z',
		title: 'Recognized Credentials',
		description: 'Certificates recognized by utilities, government programs, and industry',
	},
];

// Upcoming sessions
const upcomingSessions = [
	{
		title: 'Building Science Fundamentals',
		date: 'October 15-17, 2025',
		location: 'Vancouver, BC',
		status: 'Registration Open',
		statusColor: 'green',
	},
	{
		title: 'Advanced Air Sealing Techniques',
		date: 'October 22-23, 2025',
		location: 'Kelowna, BC',
		status: 'Registration Open',
		statusColor: 'green',
	},
	{
		title: 'Heat Pump Installation & Optimization',
		date: 'November 5-6, 2025',
		location: 'Victoria, BC',
		status: 'Coming Soon',
		statusColor: 'orange',
	},
];
---

<Layout
	title="Training & Professional Development | HPSC"
	description="Professional training programs and workshops for home performance contractors, energy advisors, and building professionals in British Columbia."
	keywords="home performance training, contractor education, energy advisor certification, building science courses, HVAC training, retrofit training"
	breadcrumbs={[{ label: 'Training', href: '/training' }]}
>
	<!-- Page Header -->
	<div class="mb-12">
		<h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
			Training & Professional Development
		</h1>
		<p class="text-xl text-gray-700 leading-relaxed max-w-4xl">
			Advance your skills and credentials with our comprehensive training programs designed for home
			performance professionals across British Columbia.
		</p>
	</div>

	<!-- Benefits Section -->
	<section class="mb-16">
		<div class="bg-primary/5 rounded-2xl p-8 md:p-12 border-2 border-primary/20">
			<h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6">Why Choose HPSC Training?</h2>
			<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
				{benefits.map((benefit) => <BenefitCard {...benefit} />)}
			</div>
		</div>
	</section>

	<!-- Filter Section -->
	<section class="mb-8">
		<div class="flex flex-wrap items-center gap-3">
			<span class="text-gray-700 font-semibold">Filter by:</span>
			{
				categories.map((category) => (
					<button
						data-category={category}
						class={`filter-btn px-4 py-2 rounded-full text-sm font-medium transition-all ${
							category === 'All'
								? 'bg-primary-dark text-white'
								: 'bg-gray-100 text-gray-700 hover:bg-gray-200'
						}`}
					>
						{category}
					</button>
				))
			}
		</div>
	</section>

	<!-- Training Programs Grid -->
	<section class="mb-16">
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="programs-grid">
			{trainingPrograms.map((program) => <TrainingProgramCard {...program} />)}
		</div>
	</section>

	<!-- Upcoming Training Calendar -->
	<section class="mb-16">
		<h2 class="text-3xl font-bold text-gray-900 mb-8">Upcoming Training Sessions</h2>
		<div class="bg-white rounded-2xl shadow-md p-8 border border-gray-200">
			<div class="space-y-4">
				{upcomingSessions.map((session) => <UpcomingSessionCard {...session} />)}
			</div>
			<div class="mt-6 text-center">
				<a href="/events" class="text-primary font-semibold hover:underline">
					View Full Training Calendar â†’
				</a>
			</div>
		</div>
	</section>

	<!-- CTA Section -->
	<section>
		<div class="bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-8 md:p-12 text-white">
			<h2 class="text-3xl font-bold mb-4">Ready to Advance Your Skills?</h2>
			<p class="text-xl mb-8 text-white/90 max-w-2xl">
				Join hundreds of contractors and professionals who have elevated their expertise through
				HPSC training programs.
			</p>
			<div class="flex flex-wrap gap-4">
				<a
					href="/contact"
					class="inline-flex items-center gap-2 px-8 py-3 bg-white text-primary rounded-lg font-semibold hover:bg-gray-100 transition-colors shadow-lg"
				>
					Register for Training
					<svg
						class="w-5 h-5"
						fill="none"
						stroke="currentColor"
						viewBox="0 0 24 24"
						aria-hidden="true"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
					</svg>
				</a>
				<a
					href="/contractor-network"
					class="inline-flex items-center gap-2 px-8 py-3 border-2 border-white text-white rounded-lg font-semibold hover:bg-white/10 transition-colors"
				>
					Learn About HPCN Benefits
				</a>
			</div>
		</div>
	</section>
</Layout>

<script>
	// Filter functionality
	const filterButtons = document.querySelectorAll('.filter-btn');
	const programs = document.querySelectorAll('.training-program');

	function filterPrograms(category: string) {
		programs.forEach((program) => {
			const programCategory = program.getAttribute('data-category');
			if (category === 'All' || programCategory === category) {
				program.classList.remove('hidden');
			} else {
				program.classList.add('hidden');
			}
		});

		// Update button styles
		filterButtons.forEach((btn) => {
			const btnCategory = btn.getAttribute('data-category');
			if (btnCategory === category) {
				btn.classList.remove('bg-gray-100', 'text-gray-700', 'hover:bg-gray-200');
				btn.classList.add('bg-primary-dark', 'text-white');
			} else {
				btn.classList.remove('bg-primary-dark', 'text-white');
				btn.classList.add('bg-gray-100', 'text-gray-700', 'hover:bg-gray-200');
			}
		});
	}

	filterButtons.forEach((button) => {
		button.addEventListener('click', () => {
			const category = button.getAttribute('data-category') || 'All';
			filterPrograms(category);
		});
	});
</script>
